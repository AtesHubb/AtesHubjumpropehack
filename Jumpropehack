local player = game.Players.LocalPlayer
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Ana GUI
local gui = Instance.new("ScreenGui")
gui.Name = "AtesHub"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Ana Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 350, 0, 250)
frame.Position = UDim2.new(0.5, -175, 0.5, -125)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
frame.Visible = false
frame.Parent = gui

-- BaÅŸlÄ±k
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "ðŸ”¥ AtesHub"
title.Font = Enum.Font.GothamBold
title.TextSize = 24
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Parent = frame

-- Sekme ButonlarÄ± Ã‡erÃ§evesi
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(1, 0, 0, 40)
tabFrame.Position = UDim2.new(0, 0, 0, 40)
tabFrame.BackgroundTransparency = 1
tabFrame.Parent = frame

local tabs = {}
local tabNames = {"Money", "Speed", "Jump"}

for i, name in ipairs(tabNames) do
	local btn = Instance.new("TextButton")
	btn.Name = name .. "Tab"
	btn.Size = UDim2.new(1/#tabNames, 0, 1, 0)
	btn.Position = UDim2.new((i-1)/#tabNames, 0, 0, 0)
	btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	btn.Text = name
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 16
	btn.TextColor3 = Color3.fromRGB(200, 200, 200)
	btn.Parent = tabFrame
	tabs[name] = btn
end

-- Ä°Ã§erik container
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, 0, 1, -80)
contentFrame.Position = UDim2.new(0, 0, 0, 80)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = frame

-- Her sekme iÃ§in ayrÄ± Frame (sola konumlandÄ±rÄ±yoruz animasyon iÃ§in)
local tabContents = {}

for i, name in ipairs(tabNames) do
	local f = Instance.new("Frame")
	f.Size = UDim2.new(1, 0, 1, 0)
	f.Position = UDim2.new(i - 1, 0, 0, 0)
	f.BackgroundTransparency = 1
	f.Parent = contentFrame
	tabContents[name] = f
end

-- Money Sekmesi iÃ§eriÄŸi
do
	local f = tabContents["Money"]
	
	local toggle = Instance.new("TextButton")
	toggle.Size = UDim2.new(0, 160, 0, 40)
	toggle.Position = UDim2.new(0.5, -80, 0, 20)
	toggle.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	toggle.TextColor3 = Color3.new(1,1,1)
	toggle.Text = "Infinite Money: OFF"
	toggle.Font = Enum.Font.Gotham
	toggle.TextSize = 14
	toggle.Parent = f

	local isOn = false
	local loopThread = nil

	toggle.MouseButton1Click:Connect(function()
		isOn = not isOn
		toggle.Text = isOn and "Infinite Money: ON" or "Infinite Money: OFF"
		toggle.BackgroundColor3 = isOn and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(80, 80, 80)

		if isOn then
			loopThread = task.spawn(function()
				while isOn do
					task.wait(1)
					local args = { false }
					pcall(function()
						game:GetService("ReplicatedStorage")
							:WaitForChild("RestartRemotes")
							:WaitForChild("Loader")
							:FireServer(unpack(args))
					end)
				end
			end)
		else
			if loopThread then
				task.cancel(loopThread)
				loopThread = nil
			end
		end
	end)
end

-- Speed Sekmesi iÃ§eriÄŸi
do
	local f = tabContents["Speed"]
	
	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(1, -20, 0, 20)
	label.Position = UDim2.new(0, 10, 0, 20)
	label.BackgroundTransparency = 1
	label.Text = "Walk Speed: 16"
	label.TextColor3 = Color3.fromRGB(255,255,255)
	label.Font = Enum.Font.Gotham
	label.TextSize = 14
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = f
	
	local slider = Instance.new("Frame")
	slider.Size = UDim2.new(1, -20, 0, 20)
	slider.Position = UDim2.new(0, 10, 0, 50)
	slider.BackgroundColor3 = Color3.fromRGB(60,60,60)
	slider.Parent = f
	
	local fill = Instance.new("Frame")
	fill.Size = UDim2.new(0, 50, 1, 0)
	fill.BackgroundColor3 = Color3.fromRGB(0,170,0)
	fill.Parent = slider
	
	local draggingSlider = false
	local maxSpeed, minSpeed = 100, 16

	local function updateSpeed(speed)
		if player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character:FindFirstChildOfClass("Humanoid").WalkSpeed = speed
		end
	end

	slider.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			draggingSlider = true
		end
	end)

	slider.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			draggingSlider = false
		end
	end)

	slider.InputChanged:Connect(function(input)
		if draggingSlider and input.UserInputType == Enum.UserInputType.MouseMovement then
			local relativeX = math.clamp(input.Position.X - slider.AbsolutePosition.X, 0, slider.AbsoluteSize.X)
			fill.Size = UDim2.new(0, relativeX, 1, 0)
			local speedVal = math.floor((relativeX / slider.AbsoluteSize.X) * (maxSpeed - minSpeed) + minSpeed)
			label.Text = "Walk Speed: " .. speedVal
			updateSpeed(speedVal)
		end
	end)
	
	-- BaÅŸlangÄ±Ã§ hÄ±zÄ± ayarla
	updateSpeed(16)
end

-- Jump Sekmesi iÃ§eriÄŸi
do
	local f = tabContents["Jump"]
	
	local toggle = Instance.new("TextButton")
	toggle.Size = UDim2.new(0, 160, 0, 40)
	toggle.Position = UDim2.new(0.5, -80, 0, 20)
	toggle.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	toggle.TextColor3 = Color3.new(1,1,1)
	toggle.Text = "Infinite Jump: OFF"
	toggle.Font = Enum.Font.Gotham
	toggle.TextSize = 14
	toggle.Parent = f
	
	local infiniteJumpEnabled = false
	
	local function onJumpRequest()
		if infiniteJumpEnabled then
			local humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
			if humanoid and humanoid:GetState() ~= Enum.HumanoidStateType.Freefall then
				humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
			end
		end
	end
	
	UIS.JumpRequest:Connect(onJumpRequest)
	
	toggle.MouseButton1Click:Connect(function()
		infiniteJumpEnabled = not infiniteJumpEnabled
		toggle.Text = infiniteJumpEnabled and "Infinite Jump: ON" or "Infinite Jump: OFF"
		toggle.BackgroundColor3 = infiniteJumpEnabled and Color3.fromRGB(0,170,0) or Color3.fromRGB(80,80,80)
	end)
end

-- Sekme animasyonlarÄ±
local tweenService = game:GetService("TweenService")
local currentIndex = 1

local function selectTab(index)
	if index == currentIndex then return end

	for i, name in ipairs(tabNames) do
		local btn = tabs[name]
		btn.BackgroundColor3 = (i == index) and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(50, 50, 50)
		btn.TextColor3 = (i == index) and Color3.new(1,1,1) or Color3.fromRGB(200,200,200)
	end
	
	local targetPos = UDim2.new(1 - index, 0, 0, 0)
	tweenService:Create(contentFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {Position = targetPos}):Play()
	currentIndex = index
end

for i, name in ipairs(tabNames) do
	tabs[name].MouseButton1Click:Connect(function()
		selectTab(i)
	end)
end

-- BaÅŸlangÄ±Ã§ta ilk sekme seÃ§ili ve iÃ§eriÄŸi gÃ¶rÃ¼nÃ¼r olsun
selectTab(1)

-- SaÄŸ CTRL ile aÃ§/kapa
UIS.InputBegan:Connect(function(input, gameProcessed)
	if input.KeyCode == Enum.KeyCode.RightControl and not gameProcessed then
		frame.Visible = not frame.Visible
	end
end)

-- Frame sÃ¼rÃ¼kleme
local dragging = false
local dragInput, dragStart, startPos

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

frame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

UIS.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(
			startPos.X.Scale,
			startPos.X.Offset + delta.X,
			startPos.Y.Scale,
			startPos.Y.Offset + delta.Y
		)
	end
end)
